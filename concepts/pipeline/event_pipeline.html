
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Event Pipeline Detail Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-mermaid-gb3/mermaid/mermaid.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    


    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../../tools/interfaces.html" />
    
    
    <link rel="prev" href="http_edge_spec.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Firefox Data Documentation
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1" data-path="../reporting_a_problem.html">
            
                <a href="../reporting_a_problem.html">
            
                    
                    Reporting a problem
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.2" data-path="../terminology.html">
            
                <a href="../terminology.html">
            
                    
                    Terminology
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../getting_started.html">
            
                <a href="../getting_started.html">
            
                    
                    Getting Started
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../analysis_intro.html">
            
                <a href="../analysis_intro.html">
            
                    
                    Analysis Quick Start
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../choosing_a_dataset.html">
            
                <a href="../choosing_a_dataset.html">
            
                    
                    Choosing a Dataset
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../../tools/stmo.html">
            
                <a href="../../tools/stmo.html">
            
                    
                    Intro to STMO
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../analysis_gotchas.html">
            
                <a href="../analysis_gotchas.html">
            
                    
                    Common Analysis Gotchas
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../sql_optimization.html">
            
                <a href="../sql_optimization.html">
            
                    
                    Optimizing Queries
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="../review.html">
            
                <a href="../review.html">
            
                    
                    Getting Review
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7" data-path="../../datasets/new_data.html">
            
                <a href="../../datasets/new_data.html">
            
                    
                    Collecting New Data
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../../tools/">
            
                <a href="../../tools/">
            
                    
                    Tools
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../../tools/projects.html">
            
                <a href="../../tools/projects.html">
            
                    
                    Project Glossary
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="data_pipeline.html">
            
                <a href="data_pipeline.html">
            
                    
                    Overview of Mozilla's Data Pipeline
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.1" data-path="data_pipeline_detail.html">
            
                <a href="data_pipeline_detail.html">
            
                    
                    In-depth Data Pipeline Detail
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.2" data-path="http_edge_spec.html">
            
                <a href="http_edge_spec.html">
            
                    
                    HTTP Edge Server Specification
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.3.2.3" data-path="event_pipeline.html">
            
                <a href="event_pipeline.html">
            
                    
                    Event Pipeline Detail
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../../tools/interfaces.html">
            
                <a href="../../tools/interfaces.html">
            
                    
                    Analysis Interfaces
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../../tools/spark.html">
            
                <a href="../../tools/spark.html">
            
                    
                    Custom analysis with Spark
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../sql_style.html">
            
                <a href="../sql_style.html">
            
                    
                    SQL Style Guide
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../../cookbooks/">
            
                <a href="../../cookbooks/">
            
                    
                    Cookbooks
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../../tools/alerts.html">
            
                <a href="../../tools/alerts.html">
            
                    
                    Alerts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../../cookbooks/parquet.html">
            
                <a href="../../cookbooks/parquet.html">
            
                    
                    Working with Parquet Data on ATMO Clusters
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../../cookbooks/create_a_dataset.html">
            
                <a href="../../cookbooks/create_a_dataset.html">
            
                    
                    Creating a custom Re:dash dataset
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../../cookbooks/new_ping.html">
            
                <a href="../../cookbooks/new_ping.html">
            
                    
                    Sending a Custom Ping
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../../cookbooks/hll_zeppelin.html">
            
                <a href="../../cookbooks/hll_zeppelin.html">
            
                    
                    Using HyperLogLog in Zeppelin
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" >
            
                <span>
            
                    
                    Dataset Specific
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.6.1" data-path="../../cookbooks/longitudinal_examples.html">
            
                <a href="../../cookbooks/longitudinal_examples.html">
            
                    
                    Longitudinal Examples
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6.2" data-path="../../cookbooks/crash_pings.html">
            
                <a href="../../cookbooks/crash_pings.html">
            
                    
                    Working with Crash Pings
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.7" >
            
                <span>
            
                    
                    Real-time
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.7.1" data-path="../../cookbooks/realtime_analysis_plugin.html">
            
                <a href="../../cookbooks/realtime_analysis_plugin.html">
            
                    
                    Creating a Real-time Analysis Plugin
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.2" data-path="../../cookbooks/view_pings_cep.html">
            
                <a href="../../cookbooks/view_pings_cep.html">
            
                    
                    Seeing Your Own Pings
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.3" data-path="../../tools/cep_matcher.html">
            
                <a href="../../tools/cep_matcher.html">
            
                    
                    CEP Matcher
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8" >
            
                <span>
            
                    
                    Metrics
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.8.1" data-path="../../cookbooks/active_dau.html">
            
                <a href="../../cookbooks/active_dau.html">
            
                    
                    Active DAU Definition
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.2" data-path="../../cookbooks/retention.html">
            
                <a href="../../cookbooks/retention.html">
            
                    
                    Retention Analysis
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../../datasets/reference.html">
            
                <a href="../../datasets/reference.html">
            
                    
                    Dataset Reference
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="../../datasets/pings.html">
            
                <a href="../../datasets/pings.html">
            
                    
                    Pings
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="../../datasets/derived.html">
            
                <a href="../../datasets/derived.html">
            
                    
                    Derived Datasets
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.2.1" data-path="../../datasets/batch_view/addons/reference.html">
            
                <a href="../../datasets/batch_view/addons/reference.html">
            
                    
                    Addons
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.2" data-path="../../datasets/mozetl/churn/reference.html">
            
                <a href="../../datasets/mozetl/churn/reference.html">
            
                    
                    Churn
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.3" data-path="../../datasets/batch_view/client_count_daily/reference.html">
            
                <a href="../../datasets/batch_view/client_count_daily/reference.html">
            
                    
                    Client Count Daily
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.4" data-path="../../datasets/batch_view/client_count/reference.html">
            
                <a href="../../datasets/batch_view/client_count/reference.html">
            
                    
                    Client Count
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.5" data-path="../../datasets/batch_view/clients_daily/reference.html">
            
                <a href="../../datasets/batch_view/clients_daily/reference.html">
            
                    
                    Clients Daily
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.6" data-path="../../datasets/batch_view/crash_aggregates/reference.html">
            
                <a href="../../datasets/batch_view/crash_aggregates/reference.html">
            
                    
                    Crash Aggregate
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.7" data-path="../../datasets/batch_view/crash_summary/reference.html">
            
                <a href="../../datasets/batch_view/crash_summary/reference.html">
            
                    
                    Crash Summary
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.8" data-path="../../datasets/batch_view/cross_sectional/reference.html">
            
                <a href="../../datasets/batch_view/cross_sectional/reference.html">
            
                    
                    Cross Sectional
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.9" data-path="../../datasets/streaming/error_aggregates/reference.html">
            
                <a href="../../datasets/streaming/error_aggregates/reference.html">
            
                    
                    Error Aggregates
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.10" data-path="../../datasets/batch_view/events/reference.html">
            
                <a href="../../datasets/batch_view/events/reference.html">
            
                    
                    Events
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.11" data-path="../../datasets/batch_view/first_shutdown_summary/reference.html">
            
                <a href="../../datasets/batch_view/first_shutdown_summary/reference.html">
            
                    
                    First Shutdown Summary
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.12" data-path="../../datasets/batch_view/longitudinal/reference.html">
            
                <a href="../../datasets/batch_view/longitudinal/reference.html">
            
                    
                    Longitudinal
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.13" data-path="../../datasets/batch_view/main_summary/reference.html">
            
                <a href="../../datasets/batch_view/main_summary/reference.html">
            
                    
                    Main Summary
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.14" data-path="../../datasets/batch_view/new_profile/reference.html">
            
                <a href="../../datasets/batch_view/new_profile/reference.html">
            
                    
                    New Profile
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.15" data-path="../../datasets/batch_view/retention/reference.html">
            
                <a href="../../datasets/batch_view/retention/reference.html">
            
                    
                    Retention
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.16" data-path="../../datasets/other/socorro_crash/reference.html">
            
                <a href="../../datasets/other/socorro_crash/reference.html">
            
                    
                    Socorro Crash Reports
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.17" data-path="../../datasets/other/ssl/reference.html">
            
                <a href="../../datasets/other/ssl/reference.html">
            
                    
                    SSL Ratios (public)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.18" data-path="../../datasets/batch_view/sync_summary/reference.html">
            
                <a href="../../datasets/batch_view/sync_summary/reference.html">
            
                    
                    Sync Summary
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.19" data-path="../../datasets/batch_view/update/reference.html">
            
                <a href="../../datasets/batch_view/update/reference.html">
            
                    
                    Update
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.1.3" data-path="../../tools/experiments.html">
            
                <a href="../../tools/experiments.html">
            
                    
                    Experimental Datasets
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.3.1" data-path="../../datasets/shield.html">
            
                <a href="../../datasets/shield.html">
            
                    
                    Accessing Shield Study data
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.1.4" data-path="../../datasets/search.html">
            
                <a href="../../datasets/search.html">
            
                    
                    Search Datasets
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.4.1" data-path="../../datasets/mozetl/search_aggregates/reference.html">
            
                <a href="../../datasets/mozetl/search_aggregates/reference.html">
            
                    
                    Search Aggregates
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.4.2" data-path="../../datasets/mozetl/search_clients_daily/reference.html">
            
                <a href="../../datasets/mozetl/search_clients_daily/reference.html">
            
                    
                    Search Clients Daily
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.1.5" data-path="../../datasets/other.html">
            
                <a href="../../datasets/other.html">
            
                    
                    Other Datasets
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.5.1" data-path="../../datasets/other/hgpush/reference.html">
            
                <a href="../../datasets/other/hgpush/reference.html">
            
                    
                    hgpush
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.1.6" data-path="../../datasets/obsolete.html">
            
                <a href="../../datasets/obsolete.html">
            
                    
                    Obsolete Datasets
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.6.1" data-path="../../datasets/obsolete/heavy_users/reference.html">
            
                <a href="../../datasets/obsolete/heavy_users/reference.html">
            
                    
                    Heavy Users
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="3.1" >
            
                <span>
            
                    
                    About this Documentation
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1" data-path="../../meta/contributing.html">
            
                <a href="../../meta/contributing.html">
            
                    
                    Contributing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2" >
            
                <a target="_blank" href="https://bugzilla.mozilla.org/enter_bug.cgi?assigned_to=nobody%40mozilla.org&bug_file_loc=http%3A%2F%2F&bug_ignored=0&bug_severity=normal&bug_status=NEW&cf_fx_iteration=---&cf_fx_points=---&component=Documentation%20and%20Knowledge%20Repo%20%28RTMO%29&contenttypemethod=autodetect&contenttypeselection=text%2Fplain&defined_groups=1&flag_type-4=X&flag_type-607=X&flag_type-800=X&flag_type-803=X&flag_type-916=X&form_name=enter_bug&maketemplate=Remember%20values%20as%20bookmarkable%20template&op_sys=Linux&priority=--&product=Data%20Platform%20and%20Tools&rep_platform=x86_64&target_milestone=---&version=unspecified">
            
                    
                    Bug Template
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.3" data-path="../../meta/structure.html">
            
                <a href="../../meta/structure.html">
            
                    
                    Structure
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Event Pipeline Detail</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="event-data-pipeline"><a name="event-data-pipeline" class="plugin-anchor" href="#event-data-pipeline"><i class="fa fa-link" aria-hidden="true"></i></a>Event Data Pipeline</h1>
<p>We collect event-oriented data from different sources. This data is collected and processed in a
specific path through our data pipeline, which we will detail here.</p>
<div class="mermaid">
graph TD
fx_code(fa:fa-cog Firefox code) --&gt; firefox(fa:fa-firefox Firefox Telemetry)
fx_extensions(fa:fa-cog Mozilla extensions) --&gt; firefox
fx_hybrid(fa:fa-cog Hybrid Content) --&gt; firefox
mobile(fa:fa-cog Mobile products) --&gt; mobile_telemetry(fa:fa-firefox Mobile Telemetry)
firefox --&gt;|main ping| pipeline((fa:fa-database Firefox Data Pipeline))
firefox -.-&gt;|events ping, planned| pipeline
mobile_telemetry --&gt; |mobile events ping| pipeline
pipeline --&gt;|Firefox events| main_summary[fa:fa-bars main summary table]
main_summary --&gt; events_table[fa:fa-bars events table]
pipeline --&gt;|Mobile events| mobile_events_table[fa:fa-bars mobile events table]
main_summary --&gt; redash(fa:fa-bar-chart Redash)
events_table --&gt; redash
events_table -.-&gt;|planned| amplitude(fa:fa-bar-chart Amplitude)
mobile_events_table --&gt; redash
mobile_events_table --&gt; amplitude

style fx_code fill:#f94,stroke-width:0px
style fx_extensions fill:#f94,stroke-width:0px
style fx_hybrid fill:#f94,stroke-width:0px
style mobile fill:#f94,stroke-width:0px
style firefox fill:#f61,stroke-width:0px
style mobile_telemetry fill:#f61,stroke-width:0px
style pipeline fill:#79d,stroke-width:0px
style main_summary fill:lightblue,stroke-width:0px
style events_table fill:lightblue,stroke-width:0px
style mobile_events_table fill:lightblue,stroke-width:0px
style redash fill:salmon,stroke-width:0px
style amplitude fill:salmon,stroke-width:0px
</div>

<h1 id="overview"><a name="overview" class="plugin-anchor" href="#overview"><i class="fa fa-link" aria-hidden="true"></i></a>Overview</h1>
<p>Across the different Firefox teams there is a common need for a more fine grained understanding of
product usage, like understanding the order of interactions or how they occur over time.
To address that our data pipeline needs to support working with event-oriented data.</p>
<p>We specify a common event data format, which allows for broader, shared usage of data processing tools.
To make working with event data feasible, we provide different mechanisms to get the event data
from products to our data pipeline and make the data available in tools for analysis.</p>
<h1 id="the-event-format"><a name="the-event-format" class="plugin-anchor" href="#the-event-format"><i class="fa fa-link" aria-hidden="true"></i></a>The event format</h1>
<p>Events are submitted as an array, e.g.:</p>
<pre><code class="lang-javascript">[
  [<span class="hljs-number">2147</span>, <span class="hljs-string">&quot;ui&quot;</span>, <span class="hljs-string">&quot;click&quot;</span>, <span class="hljs-string">&quot;back_button&quot;</span>],
  [<span class="hljs-number">2213</span>, <span class="hljs-string">&quot;ui&quot;</span>, <span class="hljs-string">&quot;search&quot;</span>, <span class="hljs-string">&quot;search_bar&quot;</span>, <span class="hljs-string">&quot;google&quot;</span>],
  [<span class="hljs-number">2892</span>, <span class="hljs-string">&quot;ui&quot;</span>, <span class="hljs-string">&quot;completion&quot;</span>, <span class="hljs-string">&quot;search_bar&quot;</span>, <span class="hljs-string">&quot;yahoo&quot;</span>,
    {<span class="hljs-string">&quot;querylen&quot;</span>: <span class="hljs-string">&quot;7&quot;</span>, <span class="hljs-string">&quot;results&quot;</span>: <span class="hljs-string">&quot;23&quot;</span>}],
  [<span class="hljs-number">5434</span>, <span class="hljs-string">&quot;dom&quot;</span>, <span class="hljs-string">&quot;load&quot;</span>, <span class="hljs-string">&quot;frame&quot;</span>, <span class="hljs-literal">null</span>,
    {<span class="hljs-string">&quot;prot&quot;</span>: <span class="hljs-string">&quot;https&quot;</span>, <span class="hljs-string">&quot;src&quot;</span>: <span class="hljs-string">&quot;script&quot;</span>}],
  <span class="hljs-comment">// ...</span>
]
</code></pre>
<p>Each event is of the form:</p>
<pre><code class="lang-javascript">[timestamp, category, method, object, value, extra]
</code></pre>
<p>Where the individual fields are:</p>
<ul>
<li><code>timestamp</code>: <code>Number</code>, positive integer. This is the time in ms when the event was recorded, relative to the main process start time.</li>
<li><code>category</code>: <code>String</code>, identifier. The category is a group name for events and helps to avoid name conflicts.</li>
<li><code>method</code>: <code>String</code>, identifier. This describes the type of event that occurred, e.g. <code>click</code>, <code>keydown</code> or <code>focus</code>.</li>
<li><code>object</code>: <code>String</code>, identifier. This is the object the event occurred on, e.g. <code>reload_button</code> or <code>urlbar</code>.</li>
<li><code>value</code>: <code>String</code>, optional, may be null. This is a user defined value, providing context for the event.</li>
<li><code>extra</code>: <code>Object</code>, optional, may be null. This is an object of the form <code>{&quot;key&quot;: &quot;value&quot;, ...}</code>, both keys and values need to be strings. This is used for events when additional richer context is needed.</li>
</ul>
<p>See also the <a href="https://firefox-source-docs.mozilla.org/toolkit/components/telemetry/telemetry/collection/events.html#serialization-format" target="_blank">Firefox Telemetry documentation</a>.</p>
<h1 id="event-data-collection"><a name="event-data-collection" class="plugin-anchor" href="#event-data-collection"><i class="fa fa-link" aria-hidden="true"></i></a>Event data collection</h1>
<h2 id="firefox-event-collection"><a name="firefox-event-collection" class="plugin-anchor" href="#firefox-event-collection"><i class="fa fa-link" aria-hidden="true"></i></a>Firefox event collection</h2>
<p>To collect this event data in Firefox there are different APIs in Firefox, all addressing different
use cases:</p>
<ul>
<li>The <a href="https://firefox-source-docs.mozilla.org/toolkit/components/telemetry/telemetry/collection/events.html" target="_blank"><em>Telemetry event API</em></a>
allows easy recording of events from Firefox code.</li>
<li>The <a href="https://firefox-source-docs.mozilla.org/toolkit/components/telemetry/telemetry/collection/events.html#registerevents" target="_blank"><em>dynamic event API</em></a>
allows code from Mozilla addons to record new events into Telemetry without shipping Firefox
code.</li>
<li>The <em>Telemetry extension API</em> (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1280234" target="_blank">work in progress</a>)
will allow Mozilla extensions to record new events into Telemetry.</li>
<li>The <a href="https://firefox-source-docs.mozilla.org/toolkit/components/telemetry/telemetry/collection/hybrid-content.html" target="_blank"><em>Hybrid-content API</em></a>
allows specific white-listed Mozilla content code to record new events into Telemetry.</li>
</ul>
<p>For all these APIs, events will get sent to the pipeline through the
<a href="https://firefox-source-docs.mozilla.org/toolkit/components/telemetry/telemetry/data/main-ping.html" target="_blank">main ping</a>,
with a hard limit of 500 events per ping.
In the future, Firefox events will be sent through a separate <em>events ping</em>, removing the hard limit.
As of Firefox 61, all events recorded through these APIs are <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1440673" target="_blank">automatically counted in scalars</a>.</p>
<p>Finally, <a href="https://firefox-source-docs.mozilla.org/toolkit/components/telemetry/telemetry/collection/custom-pings.html" target="_blank"><em>custom pings</em></a>
can follow the event data format and potentially connect to the existing tooling with some integration work.</p>
<h2 id="mobile-event-collection"><a name="mobile-event-collection" class="plugin-anchor" href="#mobile-event-collection"><i class="fa fa-link" aria-hidden="true"></i></a>Mobile event collection</h2>
<p>Mobile events data primarily flows through the mobile events ping (<a href="https://github.com/mozilla-services/mozilla-pipeline-schemas/tree/dev/schemas/telemetry/mobile-event" target="_blank">ping schema</a>), from e.g. <a href="https://github.com/mozilla-mobile/firefox-ios/wiki/Event-Tracking-with-Mozilla&apos;s-Telemetry-Service#event-ping" target="_blank">Firefox iOS</a>, Firefox for Fire TV and Rocket.</p>
<p>Currently we also collect event data from Firefox Focus through the <a href="https://github.com/mozilla-mobile/focus-ios/wiki/Event-Tracking-with-Mozilla%27s-Telemetry-Service#event-ping" target="_blank"><code>focus-events</code> ping</a>,
using the <a href="https://github.com/mozilla-mobile/telemetry-ios" target="_blank"><code>telemetry-ios</code></a> and
<a href="https://github.com/mozilla-mobile/telemetry-android" target="_blank"><code>telemetry-android</code></a> libraries.</p>
<h1 id="datasets"><a name="datasets" class="plugin-anchor" href="#datasets"><i class="fa fa-link" aria-hidden="true"></i></a>Datasets</h1>
<p>On the pipeline side, the event data is made available in different datasets:</p>
<ul>
<li><a href="../choosing_a_dataset.html#mainsummary"><code>main_summary</code></a> has a row for each main ping and includes
its event payload.</li>
<li><a href="../../datasets/batch_view/events/reference.html"><code>events</code></a> contains a row for each event received. See <a href="https://sql.telemetry.mozilla.org/queries/52582/source" target="_blank">this sample query</a>.</li>
<li><code>telemetry_mobile_event_parquet</code> contains a row for each mobile event ping. See <a href="https://sql.telemetry.mozilla.org/queries/52581/source" target="_blank">this sample query</a>.</li>
<li><code>focus_events_longitudinal</code> currently contains events from Firefox Focus.</li>
</ul>
<h1 id="data-tooling"><a name="data-tooling" class="plugin-anchor" href="#data-tooling"><i class="fa fa-link" aria-hidden="true"></i></a>Data tooling</h1>
<p>The above datasets are all accessible through <a href="../../tools/stmo.html">Re:dash</a> and <a href="../../tools/spark.html">Spark jobs</a>.</p>
<p>For product analytics based on event data, we have <a href="https://sso.mozilla.com/amplitude" target="_blank">Amplitude</a>
(hosted by the IT data team). We can connect our event data sources data to Amplitude.
We have an active connector to Amplitude for mobile events, which can push event data over
daily. For Firefox Desktop events this will be available soon.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="http_edge_spec.html" class="navigation navigation-prev " aria-label="Previous page: HTTP Edge Server Specification">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../../tools/interfaces.html" class="navigation navigation-next " aria-label="Next page: Analysis Interfaces">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Event Pipeline Detail","level":"1.3.2.3","depth":3,"next":{"title":"Analysis Interfaces","level":"1.3.3","depth":2,"path":"tools/interfaces.md","ref":"tools/interfaces.md","articles":[]},"previous":{"title":"HTTP Edge Server Specification","level":"1.3.2.2","depth":3,"path":"concepts/pipeline/http_edge_spec.md","ref":"concepts/pipeline/http_edge_spec.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["toc","anchors","ga","mermaid-gb3","-fontsettings"],"pluginsConfig":{"toc":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"highlight":{},"mermaid-gb3":{},"ga":{"configuration":"auto","token":"UA-104326577-1"},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"anchors":{}},"structure":{"langs":"LANGS.md","readme":"introduction.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"concepts/pipeline/event_pipeline.md","mtime":"2018-06-22T00:13:02.380Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2018-06-22T00:14:32.905Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-mermaid-gb3/book/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    

    <script src="../../gitbook/gitbook-plugin-mermaid-gb3/mermaid/mermaid.min.js"></script>

    </body>
</html>

