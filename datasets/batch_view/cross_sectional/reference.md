# Cross Sectional Reference

<!-- toc -->

# Introduction

{% include "./intro.md" %}

# Data Reference

## Example Queries

This query calculates relative OS frequencies for different channels:

```sql
SELECT
    os_name_mode,
    COUNT(1)
FROM cross_sectional
-- Can't limit by date or app_name in the cross_sectional
WHERE os_name_mode IN ('Windows_NT', 'Darwin', 'Linux')
  AND normalized_channel = 'release'
GROUP BY 1
ORDER BY 2 DESC

```

## Sampling

The `cross_sectional` dataset is derived from the `longitudinal` dataset,
and uses the exact same sampling.
See the [longitudinal documentation](../longitudinal/reference.md#sampling)
for details.

## Scheduling

The `cross_sectional` dataset is generated shortly after the `longitudinal`
dataset every Sunday.
The job is scheduled on Airflow and can be found
[here](https://github.com/mozilla/telemetry-airflow/blob/master/dags/longitudinal.py#L64).

## Schema

`TODO(harter)`: https://bugzilla.mozilla.org/show_bug.cgi?id=1361862

# Code Reference

This dataset is generated by
[telemetry-batch-view](https://github.com/mozilla/telemetry-batch-view/blob/master/src/main/scala/com/mozilla/telemetry/views/CrossSectionalView.scala).
Refer to this repository for information on how to run or augment the dataset.

